<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Funds</title>

<style>
body{
 margin:0;
 font-family:Arial;
 background:linear-gradient(#6a4b2c,#1c274a);
 color:#fff;
}
.header{
 display:flex;align-items:center;padding:15px
}
.header h2{margin:0 10px}
.wallet{
 margin-left:auto;background:#000;
 padding:6px 12px;border-radius:20px
}
.card{
 background:#1e274a;margin:12px;padding:18px;
 border-radius:15px;display:flex;
 align-items:center;cursor:pointer
}
.icon{
 background:#ff8c42;width:42px;height:42px;
 border-radius:50%;display:flex;
 justify-content:center;align-items:center;
 margin-right:15px
}
.bottom{
 position:fixed;bottom:0;left:0;right:0;
 background:#1c274a;display:flex;
 justify-content:space-around;padding:10px 0
}
.bottom div{font-size:12px;color:#bbb;text-align:center}
.bottom .active{color:#ff8c42}
</style>
</head>

<body>

<div class="header">
 â† <h2>vijay<span style="color:#ffb000">Matka</span></h2>
 <div class="wallet">â‚¹ <span id="wallet">0</span></div>
</div>

<div class="card" onclick="addFund()"><div class="icon">â•</div><span>Add Fund</span></div>
<div class="card" onclick="withdrawFund()"><div class="icon">â¬‡ï¸</div><span>Withdraw Funds</span></div>
<div class="card" onclick="location.href='passbook.index.html'"><div class="icon">ğŸ“˜</div><span>Passbook</span></div>
<div class="card" onclick="addBank()"><div class="icon">ğŸ›ï¸</div><span>Add Bank</span></div>
<div class="card" onclick="addUpi()"><div class="icon">ğŸ“²</div><span>Add UPI</span></div>

<div class="bottom">
 <div onclick="location.href='my bids.index.html'">âš–ï¸<br>My Bids</div>
 <div onclick="location.href='passbook.index.html'">ğŸ“˜<br>Passbook</div>
 <div onclick="location.href='dashboard2.index.html'">ğŸ <br>Home</div>
 <div class="active">ğŸ’°<br>Funds</div>
</div>

<script>
// ğŸ” LOGIN
let mobile = localStorage.getItem("loggedUser");
if(!mobile) location.href="index.html";

let userKey = "user_"+mobile;
let user = JSON.parse(localStorage.getItem(userKey)) || {wallet:0,passbook:[]};

const walletEl = document.getElementById("wallet");
walletEl.innerText = user.wallet;

// â• ADD FUND (REDIRECT)
function addFund(){
 location.href="addmony.index.html";
}

// â¬‡ï¸ WITHDRAW
function withdrawFund(){
 let amt = Number(prompt("Enter withdraw amount"));
 if(isNaN(amt) || amt<=0){
  alert("Invalid amount"); return;
 }
 if(user.wallet < amt){
  alert("Low balance"); return;
 }

 user.wallet -= amt;

 user.passbook.push({
  time: new Date().toLocaleString(),
  market: "Wallet",
  type: "DEBIT",
  amount: amt
 });

 saveUser();
 alert("Withdraw request submitted");
}

// ğŸ›ï¸ BANK
function addBank(){
 let bank = prompt("Bank Name");
 let acc  = prompt("Account Number");
 let ifsc = prompt("IFSC Code");
 if(!bank || !acc || !ifsc) return;
 user.bank = {bank,acc,ifsc};
 saveUser();
 alert("Bank details saved");
}

// ğŸ“² UPI
function addUpi(){
 let upi = prompt("Enter UPI ID");
 if(!upi) return;
 user.upi = upi;
 saveUser();
 alert("UPI saved");
}

function saveUser(){
 localStorage.setItem(userKey, JSON.stringify(user));
 walletEl.innerText = user.wallet;
}
</script>

</body>
</html>
