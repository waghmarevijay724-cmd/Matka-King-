
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Bids</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f2f2f2;
  padding-bottom:60px;
}
.header{
  background:#fff;
  padding:12px;
  font-size:18px;
  font-weight:bold;
  box-shadow:0 2px 5px rgba(0,0,0,.1);
}
.wallet{
  float:right;
  background:#111;
  color:#fff;
  padding:4px 10px;
  border-radius:4px;
  font-size:14px;
}
.table-wrap{
  padding:10px;
}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
}
th,td{
  padding:8px;
  border-bottom:1px solid #ddd;
  font-size:13px;
  text-align:center;
}
th{
  background:#222;
  color:#fff;
  position:sticky;
  top:0;
}
.no-data{
  padding:20px;
  text-align:center;
  color:#777;
}
.clear-btn{
  margin:10px;
  padding:10px;
  width:calc(100% - 20px);
  background:red;
  color:#fff;
  border:none;
  border-radius:5px;
  font-size:16px;
}
</style>
</head>

<body>

<div class="header">
  My Bids
  <span class="wallet">₹ <span id="walletBal">0</span></span>
</div>

<div class="table-wrap">
<table id="bidTable">
<thead>
<tr>
  <th>Date</th>
  <th>Time</th>
  <th>marketName</th>
  <th>Open/Close</th>
  <th>Bid</th>
  <th>Points</th>
  <th>Balance</th>
</tr>
</thead>
<tbody></tbody>
</table>
<div id="noData" class="no-data">No Bids Found</div>
</div>

<button class="clear-btn" onclick="clearHistory()">Clear History</button>

<script>
let bidHistory = JSON.parse(localStorage.getItem("bidHistory")) || [];
let wallet = localStorage.getItem("walletBalance") || 0;

document.getElementById("walletBal").innerText = wallet;

function loadBids(){
  const tbody = document.querySelector("#bidTable tbody");
  tbody.innerHTML = "";

  if(bidHistory.length === 0){
    document.getElementById("noData").style.display="block";
    return;
  }

  document.getElementById("noData").style.display="none";

  bidHistory.reverse().forEach(bid=>{
    let tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${bid.date}</td>
      <td>${bid.time}</td>
      <td>${bid.marketName}</td>
      <td>${bid.session}</td>
      <td>${bid.number}</td>
      <td>${bid.points}</td>
      <td>₹${bid.balance}</td>
    `;
    tbody.appendChild(tr);
  });
}

function clearHistory(){
  if(confirm("Clear all bid history?")){
    localStorage.removeItem("bidHistory");
    location.reload();
  }
}

loadBids();
</script>

</body>
</html>
