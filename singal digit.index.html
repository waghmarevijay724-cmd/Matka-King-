
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Single Digit Ank</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f2f2f2;
}
.header{
  display:flex;
  align-items:center;
  padding:12px;
  background:#fff;
  box-shadow:0 2px 5px rgba(0,0,0,.1)
}
.wallet{
  margin-left:auto;
  background:#111;
  color:#fff;
  padding:6px 14px;
  border-radius:20px;
  font-weight:bold;
}
.container{
  padding:15px;
}
.box{
  background:#fff;
  padding:12px;
  border-radius:10px;
  margin-bottom:10px;
  display:flex;
  align-items:center;
}
.box span{
  width:40px;
  font-weight:bold;
}
.box input{
  margin-left:auto;
  width:80px;
  padding:6px;
}
.footer{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:#fff;
  display:flex;
  justify-content:space-between;
  padding:12px;
  box-shadow:0 -2px 5px rgba(0,0,0,.1)
}
button{
  background:#ff9800;
  border:none;
  color:#fff;
  padding:10px 18px;
  border-radius:20px;
  font-size:16px;
}
</style>
</head>

<body>

<div class="header">
  <b>TIME BAZAR</b>
  <div class="wallet" id="wallet">₹ 0</div>
</div>

<div class="container" id="numbers"></div>

<div class="footer">
  <div>
    Bids: <span id="bids">0</span><br>
    Points: <span id="points">0</span>
  </div>
  <button onclick="submitBet()">Submit</button>
</div>

<script>
/* ===== WALLET SETUP ===== */
let walletBalance = parseInt(localStorage.getItem("walletBalance")) || 1100;
document.getElementById("wallet").innerText = "₹ " + walletBalance;

/* ===== CREATE NUMBERS ===== */
let numbersDiv = document.getElementById("numbers");
for(let i=0;i<=9;i++){
  numbersDiv.innerHTML += `
    <div class="box">
      <span>${i}</span>
      <input type="number" min="0" value="0" oninput="calculate()">
    </div>`;
}

/* ===== CALCULATION ===== */
function calculate(){
  let inputs = document.querySelectorAll(".box input");
  let totalPoints = 0;
  let totalBids = 0;

  inputs.forEach(inp=>{
    let val = parseInt(inp.value) || 0;
    if(val > 0){
      totalPoints += val;
      totalBids++;
    }
  });

  document.getElementById("points").innerText = totalPoints;
  document.getElementById("bids").innerText = totalBids;
}

/* ===== SUBMIT BET ===== */
function submitBet(){
  let totalPoints = parseInt(document.getElementById("points").innerText);

  if(totalPoints === 0){
    alert("Please enter points");
    return;
  }

  // ✅ CORRECT LOW BALANCE CHECK
  if(walletBalance < totalPoints){
    alert("Low balance");
    return;
  }

  // minus wallet
  walletBalance -= totalPoints;
  localStorage.setItem("walletBalance", walletBalance);
  document.getElementById("wallet").innerText = "₹ " + walletBalance;

  alert("Bet submitted successfully");

  // reset
  document.querySelectorAll(".box input").forEach(i=>i.value=0);
  calculate();
}
</script>

</body>
</html>
